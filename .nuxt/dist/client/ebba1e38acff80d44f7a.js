(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{145:function(t,a,o){var e=o(157);"string"==typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);(0,o(41).default)("e1c0cec2",e,!0,{})},156:function(t,a,o){"use strict";var e=o(145);o.n(e).a},157:function(t,a,o){(t.exports=o(40)(!1)).push([t.i,'.contents[data-v-975cf950]{font-family:Segoe WPC,Segoe UI,SFUIText-Light,HelveticaNeue-Light,sans-serif,Droid Sans Fallback;font-size:14px;padding:0 12px;line-height:22px;word-wrap:break-word;color:#fff}#code-csp-warning[data-v-975cf950]{position:fixed;top:0;right:0;color:#fff;margin:16px;text-align:center;font-size:12px;font-family:sans-serif;background-color:#444;cursor:pointer;padding:6px;box-shadow:1px 1px 1px rgba(0,0,0,.25)}#code-csp-warning[data-v-975cf950]:hover{text-decoration:none;background-color:#007acc;box-shadow:2px 2px 2px rgba(0,0,0,.25)}.contents.scrollBeyondLastLine[data-v-975cf950]{margin-bottom:calc(100vh - 22px)}.contents.showEditorSelection .code-line[data-v-975cf950]{position:relative}.contents.showEditorSelection .code-active-line[data-v-975cf950]:before,.contents.showEditorSelection .code-line[data-v-975cf950]:hover:before{content:"";display:block;position:absolute;top:0;left:-12px;height:100%}.contents.showEditorSelection li.code-active-line[data-v-975cf950]:before,.contents.showEditorSelection li.code-line[data-v-975cf950]:hover:before{left:-30px}.vscode-light.showEditorSelection .code-active-line[data-v-975cf950]:before{border-left:3px solid rgba(0,0,0,.15)}.vscode-light.showEditorSelection .code-line[data-v-975cf950]:hover:before{border-left:3px solid rgba(0,0,0,.4)}.vscode-dark.showEditorSelection .code-active-line[data-v-975cf950]:before{border-left:3px solid hsla(0,0%,100%,.4)}.vscode-dark.showEditorSelection .code-line[data-v-975cf950]:hover:before{border-left:3px solid hsla(0,0%,100%,.6)}.vscode-high-contrast.showEditorSelection .code-active-line[data-v-975cf950]:before{border-left:3px solid rgba(255,160,0,.7)}.vscode-high-contrast.showEditorSelection .code-line[data-v-975cf950]:hover:before{border-left:3px solid #ffa000}img[data-v-975cf950]{max-width:100%;max-height:100%}a[data-v-975cf950]{color:#ec008c;text-decoration:none}a[data-v-975cf950]:focus,input[data-v-975cf950]:focus,select[data-v-975cf950]:focus,textarea[data-v-975cf950]:focus{outline:1px solid -webkit-focus-ring-color;outline-offset:-1px}hr[data-v-975cf950]{border:0;height:2px;border-bottom:2px solid}h1[data-v-975cf950]{padding-bottom:.3em;line-height:1.2;border-bottom-width:1px;border-bottom-style:solid}h1[data-v-975cf950],h2[data-v-975cf950],h3[data-v-975cf950]{font-weight:400}h1 code[data-v-975cf950],h2 code[data-v-975cf950],h3 code[data-v-975cf950],h4 code[data-v-975cf950],h5 code[data-v-975cf950],h6 code[data-v-975cf950]{font-size:inherit;line-height:auto}a[data-v-975cf950]:hover{color:#ec008c;text-decoration:underline}table[data-v-975cf950]{border-collapse:collapse}table>thead>tr>th[data-v-975cf950]{text-align:left;border-bottom:1px solid}table>tbody>tr>td[data-v-975cf950],table>tbody>tr>th[data-v-975cf950],table>thead>tr>td[data-v-975cf950],table>thead>tr>th[data-v-975cf950]{padding:5px 10px}table>tbody>tr+tr>td[data-v-975cf950]{border-top:1px solid}blockquote[data-v-975cf950]{margin:0 7px 0 5px;padding:0 16px 0 10px;border-left:5px solid}code[data-v-975cf950]{font-family:Menlo,Monaco,Consolas,Droid Sans Mono,Courier New,monospace,Droid Sans Fallback;font-size:14px;line-height:19px}.contents.wordWrap pre[data-v-975cf950]{white-space:pre-wrap}.mac code[data-v-975cf950]{font-size:12px;line-height:18px}pre.hljs code>div[data-v-975cf950],pre[data-v-975cf950]:not(.hljs){padding:16px;border-radius:3px;overflow:auto}.vscode-light[data-v-975cf950],.vscode-light pre code[data-v-975cf950]{color:#1e1e1e}.vscode-dark[data-v-975cf950],.vscode-dark pre code[data-v-975cf950]{color:#ddd}.vscode-high-contrast[data-v-975cf950],.vscode-high-contrast pre code[data-v-975cf950]{color:#fff}.vscode-light code[data-v-975cf950]{color:#a31515}.vscode-dark code[data-v-975cf950]{color:#d7ba7d}.vscode-light code>div[data-v-975cf950],.vscode-light pre[data-v-975cf950]:not(.hljs){background-color:hsla(0,0%,86.3%,.4)}.vscode-dark code>div[data-v-975cf950],.vscode-dark pre[data-v-975cf950]:not(.hljs){background-color:rgba(10,10,10,.4)}.vscode-high-contrast code>div[data-v-975cf950],.vscode-high-contrast pre[data-v-975cf950]:not(.hljs){background-color:#000}.vscode-high-contrast h1[data-v-975cf950]{border-color:#000}.vscode-light table>thead>tr>th[data-v-975cf950]{border-color:rgba(0,0,0,.69)}.vscode-dark table>thead>tr>th[data-v-975cf950]{border-color:hsla(0,0%,100%,.69)}.vscode-light h1[data-v-975cf950],.vscode-light hr[data-v-975cf950],.vscode-light table>tbody>tr+tr>td[data-v-975cf950]{border-color:rgba(0,0,0,.18)}.vscode-dark h1[data-v-975cf950],.vscode-dark hr[data-v-975cf950],.vscode-dark table>tbody>tr+tr>td[data-v-975cf950]{border-color:hsla(0,0%,100%,.18)}.vscode-dark blockquote[data-v-975cf950],.vscode-light blockquote[data-v-975cf950]{background:hsla(0,0%,49.8%,.1);border-color:rgba(0,122,204,.5)}.vscode-high-contrast blockquote[data-v-975cf950]{background:transparent;border-color:#fff}.hljs-deletion[data-v-975cf950],.hljs-name[data-v-975cf950],.hljs-regexp[data-v-975cf950],.hljs-selector-class[data-v-975cf950],.hljs-selector-id[data-v-975cf950],.hljs-tag[data-v-975cf950],.hljs-template-variable[data-v-975cf950],.hljs-variable[data-v-975cf950]{color:#c82829}.hljs-built_in[data-v-975cf950],.hljs-builtin-name[data-v-975cf950],.hljs-link[data-v-975cf950],.hljs-literal[data-v-975cf950],.hljs-meta[data-v-975cf950],.hljs-number[data-v-975cf950],.hljs-params[data-v-975cf950],.hljs-type[data-v-975cf950]{color:#f5871f}.hljs-attribute[data-v-975cf950]{color:#eab700}.hljs-addition[data-v-975cf950],.hljs-bullet[data-v-975cf950],.hljs-string[data-v-975cf950],.hljs-symbol[data-v-975cf950]{color:#718c00}.hljs-section[data-v-975cf950],.hljs-title[data-v-975cf950]{color:#4271ae}.hljs-keyword[data-v-975cf950],.hljs-selector-tag[data-v-975cf950]{color:#8959a8}.hljs[data-v-975cf950]{display:block;overflow-x:auto;padding:.5em}.hljs-emphasis[data-v-975cf950]{font-style:italic}.hljs-strong[data-v-975cf950]{font-weight:700}.contents[data-v-975cf950]{font-family:Meiryo,Segoe WPC,Segoe UI,SFUIText-Light,HelveticaNeue-Light,sans-serif,Droid Sans Fallback}pre[data-v-975cf950]{background-color:#f8f8f8;border:1px solid #ccc;border-radius:3px;overflow-x:auto;white-space:pre-wrap;word-wrap:break-word}pre[data-v-975cf950]:not(.hljs){padding:23px;line-height:19px}blockquote[data-v-975cf950]{background:hsla(0,0%,49.8%,.1);border-color:rgba(0,122,204,.5)}.emoji[data-v-975cf950]{height:1.4em}:not(pre):not(.hljs)>code[data-v-975cf950]{color:#c9ae75;font-size:inherit}.page[data-v-975cf950]{page-break-after:always}.contents[data-v-975cf950]{background:#212121}.contents>*[data-v-975cf950]{width:580px;margin:auto;padding:0}.hljs[data-v-975cf950]{background:transparent;color:#fff;border:0;word-break:break-all}[data-v-975cf950]::-moz-selection{background:#ec008c}[data-v-975cf950]::selection{background:#ec008c}a.button--pink[data-v-975cf950]{display:inline-block;border-radius:4px;border:1px solid #ec008c;color:#ec008c;text-decoration:none;padding:10px 30px;outline:none}a.button--pink[data-v-975cf950]:hover{color:#fff;background-color:#ec008c;text-decoration:none}*[data-v-975cf950]{font-family:Menlo,Monaco,Consolas,Droid Sans Mono,Courier New,monospace,Droid Sans Fallback}.contents[data-v-975cf950]{padding-top:680px;padding-bottom:380px}.contents h1[data-v-975cf950],.contents h2[data-v-975cf950],.contents h3[data-v-975cf950]{font-weight:700}.contents h1[data-v-975cf950]{margin-top:20px;margin-bottom:20px}.contents h2[data-v-975cf950]{margin-top:680px;margin-bottom:10px}.contents h3[data-v-975cf950]{margin-top:20px;margin-bottom:5px}',""])},167:function(t,a,o){"use strict";o.r(a);o(156);var e=o(15),c=Object(e.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"contents"},[o("div",[o("h1",{attrs:{id:"aws%E3%81%A7wordpress%E3%82%92%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%EF%BC%88%EF%BC%91%EF%BC%89"}},[t._v("AWSを使ったWordpressの導入（１）")]),t._v(" "),o("p",[t._v("AWSサミット行ってみたい"),o("br"),t._v("\nけど、AWSのこと知らなさすぎる..."),o("br"),t._v("\n勉強しなきゃ！で、はじめた試み。")]),t._v(" "),o("h2",{attrs:{id:"%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AE%E5%8F%96%E5%BE%97"}},[t._v("ドメインの取得")]),t._v(" "),o("p",[t._v("obenkyo.siteドメインを取得しました。"),o("br"),t._v("\nお名前ドットコムで取得。")]),t._v(" "),o("p",[t._v("理由は２つ。")]),t._v(" "),o("ul",[o("li",[t._v("レジストラがいい！（リセラは嫌だ）")]),t._v(" "),o("li",[t._v("GMOインターネット参加であるのもポイント")])]),t._v(" "),o("p",[t._v("※注意"),o("br"),t._v("\n自分のサイトはブックマークなどはしないでください。"),o("br"),t._v("\n１年後に閉じる予定のドメインなので、エロサイトとかに誘導される可能性があります。")]),t._v(" "),o("h2",{attrs:{id:"%E3%83%89%E3%83%A1%E3%82%A4%E3%83%B3%E3%81%AE%E3%83%8D%E3%83%BC%E3%83%A0%E3%82%B5%E3%83%BC%E3%83%90%E3%82%92aws%E3%81%AEroute53%E3%81%AB%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B"}},[t._v("ドメインのネームサーバをAWSのRoute53に変更する")]),t._v(" "),o("p",[t._v("AWSのRoute53でobenkyo.siteのホストゾーンを作成")]),t._v(" "),o("p",[t._v("そうすると、")]),t._v(" "),o("ul",[o("li",[t._v("お名前ドットコム側のネームサーバ")]),t._v(" "),o("li",[t._v("Route53側のネームサーバ")])]),t._v(" "),o("p",[t._v("の２つが存在することになる。")]),t._v(" "),o("p",[t._v("新しく作ったRoute53側を見るように設定する必要がある"),o("br"),t._v("\n⇒お名前.com側にログインしてRoute53のレコードを参照するように設定")]),t._v(" "),o("h2",{attrs:{id:"aws%E3%81%AEcloud-watch%E3%81%AE%E8%A8%AD%E5%AE%9A"}},[t._v("AWSのCloud Watchの設定")]),t._v(" "),o("p",[t._v("2ドル以上使ったらSMSに通知がくるように(無料枠内)")]),t._v(" "),o("h2",{attrs:{id:"%E3%83%AB%E3%83%BC%E3%83%88%E3%83%A6%E3%83%BC%E3%82%B6%E3%83%BC%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%AA%E3%81%84"}},[t._v("ルートユーザーを使わない")]),t._v(" "),o("p",[t._v("AWSのIAMでユーザを追加し、下位権限を与える")]),t._v(" "),o("h2",{attrs:{id:"mfa%E3%81%AE%E8%A8%AD%E5%AE%9A"}},[t._v("MFAの設定")]),t._v(" "),o("p",[t._v("Authenticatorの設定\n一定時間ごとにパスワードが変更する仕様を実現")]),t._v(" "),o("h2",{attrs:{id:"aws%E3%82%92%E3%81%A9%E3%81%93%E3%81%AE%E3%83%AA%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E3%81%A7%E4%BD%BF%E3%81%86%E3%81%AE%E3%81%8B%EF%BC%9F"}},[t._v("AWSをどこのリージョンで使うのか？")]),t._v(" "),o("p",[t._v("東京に設定")]),t._v(" "),o("h2",{attrs:{id:"cloud-trail%E3%81%A7%E3%81%84%E3%81%A4%E3%81%A0%E3%82%8C%E3%81%8C%E3%83%92%E3%82%B9%E3%83%88%E3%83%AA%E3%83%BC%E3%82%92%E8%A6%8B%E3%82%8C%E3%82%8B%E3%81%93%E3%81%A8%E3%82%92%E7%A2%BA%E8%AA%8D"}},[t._v("Cloud Trailでいつだれがヒストリーを見れることを確認")]),t._v(" "),o("p",[t._v("安心感が得られます")]),t._v(" "),o("h2",{attrs:{id:"ec2%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%A4%E3%83%B3%E3%82%B9%E3%82%BF%E3%83%B3%E3%82%B9%EF%BC%88%E3%82%B5%E3%83%BC%E3%83%90%EF%BC%89%E3%82%92%E7%AB%8B%E3%81%A6%E3%82%8B"}},[t._v("EC2を使ってインスタンス（サーバ）を立てる")]),t._v(" "),o("h3",{attrs:{id:"os%E3%81%AFamazon-linux"}},[t._v("OSはAmazon Linux")]),t._v(" "),o("p",[t._v("バグや脆弱性が発見されたときに修正バージョンを出してくれるからAmazon製"),o("br"),t._v("\n※自分でアンテナを張っておく必要がある")]),t._v(" "),o("p",[t._v("ストレージはEBS(Elastic Block Store)"),o("br"),t._v("\n8GB SSD")]),t._v(" "),o("p",[t._v("-- コマンドライン --")]),t._v(" "),o("ul",[o("li",[t._v("MySQLクライアント")]),t._v(" "),o("li",[t._v("php")]),t._v(" "),o("li",[t._v("Apache\nを導入")])]),t._v(" "),o("p",[t._v("その他、時刻・言語の設定")]),t._v(" "),o("h2",{attrs:{id:"%E7%A9%B4%E3%81%82%E3%81%91%E4%BD%9C%E6%A5%AD"}},[t._v("穴あけ作業")]),t._v(" "),o("p",[t._v("-- マネジメントコンソール --"),o("br"),t._v("\nobenkyo.siteがhttpでつながるように穴あけ作業"),o("br"),t._v("\n※80番を許さないようなインスタンスのセキュリティの為")]),t._v(" "),o("h2",{attrs:{id:"%E3%83%90%E3%83%BC%E3%83%81%E3%83%A3%E3%83%AB%E3%83%9B%E3%82%B9%E3%83%88%E3%81%AE%E8%A8%AD%E5%AE%9A"}},[t._v("バーチャルホストの設定")]),t._v(" "),o("p",[t._v("-- コマンドライン --")]),t._v(" "),o("ul",[o("li",[t._v("httpd.confでwwwの設定")])]),t._v(" "),o("p",[t._v("-- マネジメントコンソール --")]),t._v(" "),o("ul",[o("li",[t._v("再度Route53の設定")]),t._v(" "),o("li",[t._v("wwwのAレコードを作る")])]),t._v(" "),o("h2",{attrs:{id:"%E3%83%87%E3%83%BC%E3%82%BF%E3%83%99%E3%83%BC%E3%82%B9%E3%82%92%E7%AB%8B%E3%81%A6%E3%82%8B"}},[t._v("データベースを立てる")]),t._v(" "),o("p",[t._v("-- マネジメントコンソール --"),o("br"),t._v("\nAmazon RDS(Relational Database Service)でMySQLのインスタンスを立てる"),o("br"),t._v("\nEC2インスタンスからこのDBに接続できるように穴あけ作業")]),t._v(" "),o("h2",{attrs:{id:"wordpress%E5%B0%8E%E5%85%A5"}},[t._v("Wordpress導入")]),t._v(" "),o("p",[t._v("-- コマンドライン"),o("br"),t._v("\nwpをtarでダウンロードする"),o("br"),t._v("\nルートに解凍する")]),t._v(" "),o("p",[t._v("-- ブラウザ"),o("br"),t._v("\nWPのデータベースの接続設定、からのインストール")]),t._v(" "),o("h2",{attrs:{id:"%E2%86%90%E3%82%A4%E3%83%9E%E3%82%B3%E3%82%B3"}},[t._v("←イマココ")]),t._v(" "),o("h2",{attrs:{id:"%E4%BB%8A%E5%BE%8C%E3%80%81"}},[t._v("今後、")]),t._v(" "),o("ul",[o("li",[t._v("wpの画像の保存をS3にする")]),t._v(" "),o("li",[t._v("wpのログイン画面のURL変更")]),t._v(" "),o("li",[t._v("認証をもう１段階追加する。")]),t._v(" "),o("li",[t._v("obenkyo.siteのデザイン改修")])]),t._v(" "),o("h2",{attrs:{id:"%E4%BD%BF%E3%81%A3%E3%81%9Faws%E3%81%AE%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9"}},[t._v("使ったAWSのサービス")]),t._v(" "),o("ul",[o("li",[t._v("IAM (Identity and Access Management)")]),t._v(" "),o("li",[t._v("Route53")]),t._v(" "),o("li",[t._v("Cloud Watch")]),t._v(" "),o("li",[t._v("MFA (Multi-Factor Authentication)")]),t._v(" "),o("li",[t._v("Cloud Trail")]),t._v(" "),o("li",[t._v("EC2 (Elastic Compute Cloud)]")]),t._v(" "),o("li",[t._v("EBS(Elastic Block Store)")]),t._v(" "),o("li",[t._v("RDS(Relational Database Service)")])])])])}],!1,null,"975cf950",null);c.options.__file="doc3.vue";a.default=c.exports}}]);